<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="SPMovies home page">
  <meta name="keywords" content="Movies, streaming, SPmovies, SPMovies, new movies">
  <title>Home Page</title>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- Popper JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

  <!--Font-awesome link-->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">


  <link rel="stylesheet" href="styles.css">



</head>

<body>

  <!--------------------- Navigation -------------------------------->

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="home.html">SPMovies</a>
      <button class="navbar-toggler" type="button" data-mdb-toggle="collapse" data-mdb-target="#navbarText"
        aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" href="../home.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../genres.html">Genres</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="../cybersecurityServices.html">Searched Movies</a>
          </li> -->
          <li class="nav-item">
            <a class="nav-link" href="../login.html">Login</a>
          </li>
        </ul>
        <!-- <span class="navbar-text">
          Navbar text with an inline element
        </span> -->
      </div>

      <form class="d-flex input-group w-auto" id="searchBarForm">
        <input type="text" class="form-control rounded" id="searchBar" placeholder="Search" />

        <span class="input-group-text border-0" id="search-addon">
          <i class="fas fa-search"></i>
        </span>
      </form>

    </div>
  </nav>


  <header class="big-banner">
    <div class="container h-100 text-light">
      <div class="row h-100 align-items-center">
        <div class="col-12 text-center">
          <div class="col-md-12 mb-4 text-center wow fadeIn">
            <h3 class="display-3 mb-0 pt-md-5 pt-5" style=" text-shadow: 2px 2px 4px #000000">SPMovies</h3>
            <hr class="hr-light my-4 w-75">
            <h3 class="subtext-header mt-2 mb-4 " style=" text-shadow: 2px 2px 4px #000000">Watch the latests movies
              here</h3>

          </div>
        </div>
      </div>
    </div>
  </header>


  <!---------------------------Opening tag line and description----------------------->

  <div class="jumbotron jumbotron-fluid bg-white" id="aboutCyberJumbo">
    <div class="container" id="aboutCyber">
      <h2>Welcome</h2>
      <p>We contain just about every movie both latest releases and older classics !</p>
    </div>
  </div>



  <div class="container my-5">


 
    <section class="dark-grey-text">

      <h3 class="text-center font-weight-bold mb-4 pb-2">About SPMovies</h3>
      <p class="text-center text-muted w-responsive mx-auto mb-5">SPMovies is a brand new movie streaming platform where
        you can browse through all the latest movies from just one wbesite. Whether you are looking for the newest
        Marvel movie or simply want to kick back and relax with an old time classic, SPMovies is your website of choice.
      </p>

      

  </div>


  <hr class="my-5">

  </section>
  


  </div>



  <div class="container">
    <div class="row" id="posts">

    </div>
  </div>

  <section id="websitePurpose">
    <div class="container-fluid bg-light">
      <div class="row">
        <div class="purposes">
          <div class="col-lg-8 mx-auto">
            <h2>Watch the latest blockbusters and releases </h2>
            <hr>
            <p class="lead">From the newest Marvel movie to other movies, SPMovies is your go to movie site</p>

            <p class="lead">SPMovies offers many intuitive features that make finding and searching for movies a breeze.
              Firstly, you will be able to find the latest new releases on the home page. The website also includes a
              search bar at the top which will allow you to search a movie by keyword. </p>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="purposes">
          <div class="col-lg-8 mx-auto">
            <h2>Get started with a SPMovies account !</h2>
            <hr>
            <p class="lead">Leave reviews for movies when you create an account with us</p>
            <p class="lead" >Only members of SPMovies will be able to leave reviews for movies found on our website. In addition, members of SPMovies are also eligible for promotions. So what are you waiting for ? Sign up for an account now !</p>
          </div>
        </div>
      </div>
    </div>
  </section>



  

  


  <!--------------------------------Footer----------------------------------->
  <footer class="page-footer font-small bg-light text-light">
    <div class="container">
      <div class="row">
        <div class="col-md-12 py-5">
          <div class="mb-5 flex-center">
            <div class="middle">
              <a class="btnFoot" href="#">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a class="btnFoot" href="#">
                <i class="fab fa-twitter"></i>
              </a>
              <a class="btnFoot" href="#">
                <i class="fab fa-google"></i>
              </a>
              <a class="btnFoot" href="#">
                <i class="fab fa-instagram"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>



  <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    // your JS code goes here.

    // API url
    const baseUrl = "http://localhost:8081";
    const clientSideUrl = "http://localhost:3001"

    

    console.log("now in home html from login page")
    console.log(localStorage)
    const loggedInUserID = parseInt(localStorage.getItem("loggedInUserID"));
    console.log(loggedInUserID)



    axios.get(`${baseUrl}/moviesAll/`)
      .then((response) => {
        const posts = response.data;
        console.log(posts)
        posts.forEach((post) => {
          const postHtml = `

        <div class="card" id="movieCard" >

          <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
            <img src="../images/${post.picture}" class="img-fluid" style =" max-width:100%; max-height: 600px;" id="moviePicture" />
            <a href="#!">
              <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
            </a>
          </div>

          <div class="card-body">
            <h5 class="card-title">${post.title}</h5>
            <p class="card-text">${post.description}</p>
          <p class="card-text">${post.cast}</p>
          <p class="card-text">${post.time}</p>
          <p class="card-text">${post.opening_date}</p>
          <a href="${clientSideUrl}/movies/${post.movieid}"><button type="button" class="btnHome btn-primary btn-rounded">Read more</button></a>
          </div>
        </div>
              `;

          console.log(post)
          $("#posts").append(postHtml);
        });
      })
      .catch((error) => {
        console.log(error);
      });




  </script>
  
  <script>
    var input = document.getElementById('searchBarForm');
    input.addEventListener('submit',function(e) {
        e.preventDefault();
        var b = document.getElementById('searchBar').value;
        window.location.href = `${clientSideUrl}/moviesKeyword/${b}`;

    });

</script>

  </body>

</html>